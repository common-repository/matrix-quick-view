jQuery(document).ready(function(m){var s,v,u,d;({init:function(){this.bindEvents()},bindEvents:function(){var t=this;m(window).resize(function(){t.resizeWindow()}),m(document).on("opened",".matrix-quick-view-remodal",function(){m("body").css("overflow","hidden"),m(".spinner").remove()}),m(document).on("closed",".matrix-quick-view-remodal",function(){m("body").css("overflow","auto")}),m(document).on("click",".matrix-quick-view-button",function(i){i.preventDefault();var e=m(this).data("product-id");t.getProductDetails(e),m(this).append('<div class="spinner"></div>')}),m(document).on("click","#matrix_quick_view_modal_container .product .images a",function(i){i.preventDefault(),t.initPrettyPhoto(m(this))}),m(document).on("mouseenter","#matrix_quick_view_modal_container .summary",function(){t.scrollBar()}),m(document).on("mouseleave","#matrix_quick_view_modal_container .summary",function(i){(i=document.getElementsByClassName("scrollable")[0]).scrollHeight>i.clientHeight==!0&&m(".scrollbar").hide()}),m(document).on("mouseenter",".matrix_quick_view_prev",function(){0===m(".matrix_quick_view_prev_title").length&&(m(this).append('<div class="matrix_quick_view_prev_title"><h4>'+s+"</h4></div>"),m(this).append('<div class="matrix_quick_view_prev_thumbnail"></div>'),m(".matrix_quick_view_prev_thumbnail").html(v))}),m(document).on("mouseleave",".matrix_quick_view_prev",function(){0!==m(".matrix_quick_view_prev_title").length&&(m(this).removeClass("matrix_quick_view_prev_title"),m(".matrix_quick_view_prev_title").remove(),m(".matrix_quick_view_prev_thumbnail").remove())}),m(document).on("click",".matrix_quick_view_prev",function(){var i=m(this).data("data-prev-post");t.getProductDetails(i)}),m(document).on("mouseenter",".matrix_quick_view_next",function(){0===m(".matrix_quick_view_next_title").length&&(m(this).append('<div class="matrix_quick_view_next_thumbnail"></div>'),m(this).append('<div class="matrix_quick_view_next_title"><h4>'+u+"</h4></div>"),m(".matrix_quick_view_next_thumbnail").html(d))}),m(document).on("mouseleave",".matrix_quick_view_next",function(){0!==m(".matrix_quick_view_next_title").length&&(m(this).removeClass("matrix_quick_view_next_title"),m(".matrix_quick_view_next_title").remove(),m(".matrix_quick_view_next_thumbnail").remove())}),m(document).on("click",".matrix_quick_view_next",function(){var i=m(this).data("data-next-post");t.getProductDetails(i)})},resizeWindow:function(){var i=m(".matrix-quick-view-remodal").height();m("#matrix_quick_view_modal_container .summary").css("height",i);var e=document.getElementsByClassName("scrollable")[0];e&&(e.scrollHeight>e.clientHeight==!0?(m(".scrollbar_bg").css("height",i),m(".scrollbar_bg").show()):m(".scrollbar_bg").hide())},initPrettyPhoto:function(i){var e=i.attr("href"),t=i.find("img").attr("srcset");m(".woocommerce-main-image").find("img").attr("src",e),m(".woocommerce-main-image").find("img").attr("srcset",t),m(".woocommerce-main-image").closest("a").attr("href",e),m("a.zoom").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),m("a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1})},scrollBar:function(){var i=document.getElementsByClassName("scrollable")[0];if(i.scrollHeight>i.clientHeight==!0){var e=m(".scrollable"),t=m(".scrollbar"),a=e.outerHeight(!0),r=e[0].scrollHeight,o=a*a/r;t.height(o).hide(),e.on("scroll",function(){t.css({top:e.scrollTop()/a*o})}),m(".scrollbar").show()}},getProductDetails:function(i){i!==undefined&&jQuery.ajax({type:"POST",url:matrix_quick_view_frontend_obj.ajaxurl,data:{action:"matrix_quick_view_get_product",product_id:i},success:function(i){var e=m("#matrix_quick_view_modal_container");e.html(i),e.find(".summary").addClass("scrollable"),e.closest(".matrix-quick-view-remodal").show();var t=m(".matrix_quick_view_prev_data").data("matrix-quick-view-prev-id"),a=m(".matrix_quick_view_next_data").data("matrix-quick-view-next-id");s=m(".matrix_quick_view_prev_data").text(),u=m(".matrix_quick_view_next_data").text();var r=0!==m(".matrix_quick_view_prev_data>img").length?m(".matrix_quick_view_prev_data>img").attr("src"):"",o=0!==m(".matrix_quick_view_next_data>img").length?m(".matrix_quick_view_next_data>img").attr("src"):"";v='<img src = "'+r+'">',d='<img src = "'+o+'">',0===m(".matrix_quick_view_prev").length&&""!==t&&e.closest(".remodal-wrapper").prepend('<div class="matrix_quick_view_prev wrapper" data-prev-post='+t+' style="display:block;left:0;"><div class="icon"></div></div>'),0===m(".matrix_quick_view_next").length&&""!==a&&e.closest(".remodal-wrapper").prepend('<div class="matrix_quick_view_next wrapper" data-next-post='+a+' style="display:block;right:0;"><div class="icon"></div></div>'),m(".matrix_quick_view_prev").data("data-prev-post",t),m(".matrix_quick_view_prev_title").html("<h4>"+s+"</h4>"),m(".matrix_quick_view_prev_thumbnail").html(v),m(".matrix_quick_view_next").data("data-next-post",a),m(".matrix_quick_view_next_title").html("<h4>"+u+"</h4>"),m(".matrix_quick_view_next_thumbnail").html(d),""===t&&m(".matrix_quick_view_prev").remove(),""===a&&m(".matrix_quick_view_next").remove();var c=m("[data-remodal-id=matrix-quick-view-modal]").remodal();"closed"==c.getState()&&c.open();var _=e.closest(".matrix-quick-view-remodal").height();m("#matrix_quick_view_modal_container .summary").css("height",_);var n=e.closest(".matrix-quick-view-remodal").css("background-color");m("#matrix_quick_view_modal_container .scrollbar_bg").css("background",n),m("#matrix_quick_view_modal_container .scrollbar_bg").html('<div class="scrollbar"></div>');_=e.closest(".matrix-quick-view-remodal").height();e.find(".scrollbar_bg").css("height",_);var l=document.getElementsByClassName("scrollable")[0];l.scrollHeight>l.clientHeight==!1&&e.find(".scrollbar_bg").hide()}})}}).init()});